<<<<<<< HEAD
<<<<<<< HEAD
function show(a){$(a).show()}function hide(a){$(a).hide()}function displayPoints(){var a=$("#points");$(a).is(":visible")?hide(a):show(a)}function chooseGameType(a){switch(a){case"solo":removeSection("#gametype"),showSection("#gamelevel");break;case"duo":removeSection("#gametype"),showSection("#pickname")}}function chooseGameLevel(a){}function affectName(){p1=new Player($("#pickname #namej1").val(),1),p2=new Player($("#pickname #namej2").val(),2),$("#player1").html(p1.name),$("#player2").html(p2.name),startFirstRound()}function startFirstRound(){p1.addRound(),$("#round").html(p1.round)}function removeSection(a){$(a).fadeOut(300)}function showSection(a){$(a).fadeIn(300)}var PRS$0=function(a,b){return a.__proto__={a:b},a.a===b}({},{}),DP$0=Object.defineProperty,GOPD$0=Object.getOwnPropertyDescriptor,MIXIN$0=function(a,b){for(var c in b)b.hasOwnProperty(c)&&DP$0(a,c,GOPD$0(b,c));return a},GameController=function(){"use strict";function a(){}DP$0(a,"prototype",{configurable:!1,enumerable:!1,writable:!1});var b={};return b.nextRound=function(){p2.round<p1.round?p2.addRound():p1.addRound()},b.updateScore=function(a,b){a.addPoints(b);var c="#score"+a.id;$(c).html(a.score)},MIXIN$0(a.prototype,b),b=void 0,a}(),gameController=new GameController;$("#next").click(function(){gameController.nextRound(),gameController.updateScore(p1,10)});var Player=function(){"use strict";function a(a,b){this.id=b,this.name=a,this.round=0,this.score=0}var b={};return DP$0(a,"prototype",{configurable:!1,enumerable:!1,writable:!1}),b.addRound=function(){this.round=this.round+1},b.addPoints=function(a){this.score+=a},MIXIN$0(a.prototype,b),b=void 0,a}(),Game={enemies:[],columns_nb:49,init:function(){this.setPlate(),this.setEnemies(),MainChar.init(),this.setEvents()},setPlate:function(){for(var a=0,b=0,c=0;c<Game.columns_nb;c++)c%7===0&&a++,b=c%7+1,$("#game").append("<div data-x='"+b+"' data-y='"+a+"' id='case-"+(c+1)+"' class='case'></div>")},setEvents:function(){$(document).on("click",".case",function(){Game.update($(this))}),$(".case").droppable({accept:function(a){if(MainChar.isOnSameLine($(this).data("x"),$(this).data("y")))return!0},drop:function(a,b){MainChar.eat(a.target)}})},setEnemies:function(){for(i=0;i<48;i++){var a=Math.floor(5*Math.random())+1;this.enemies.push(new Enemy(i+1,a))}this.showEnemies()},showEnemies:function(){for(var a=0;a<this.enemies.length;a++){var b=Math.random()>=.5?"rotate":"";$("#case-"+this.enemies[a].case_id).append("                <img data-id='"+a+"' class='"+b+"' src='"+this.enemies[a].image()+"'>            ")}},update:function(a){console.log(a)},setControls:function(){}};MainChar={init:function(){$(".case:not(:has(>img))").append("<img id='main-char' src='assets/img/personnageprincipal.png'>"),this.updatePosition($("#main-char").parent("div")),$("#main-char").draggable({containment:"#game",revert:"invalid"})},eat:function(a){var b=$(a).find("img").data("id"),c=$(a).data("x"),d=$(a).data("y");return b&&MainChar.isOnSameLine(c,d)&&$(a).find("img").remove(),this.updatePosition(a),MainChar.isOnSameLine(c,d)},isOnSameLine:function(a,b){return $("#main-char").data("x")===a||$("#main-char").data("y")===b},updatePosition:function(a){$("#main-char").data("x",$(a).data("x")),$("#main-char").data("y",$(a).data("y"))}};var Enemy=function(){"use strict";function a(a,b){this.case_id=a,this.type=b}var b={};return DP$0(a,"prototype",{configurable:!1,enumerable:!1,writable:!1}),b.points=function(){var a=0;switch(this.type){case 1:a=10;break;case 2:a=20;break;case 3:a=30;break;case 4:a=40;break;case 5:a=50}return a},b.image=function(){return"assets/img/ennemy"+this.type+".png"},MIXIN$0(a.prototype,b),b=void 0,a}();Game.init(),$("#play").click(function(){removeSection("#menu"),showSection("#gametype")}),$("#gametype").children("button").each(function(){var a=this;$(this).click(function(){chooseGameType(a.id)})}),$("#start").click(function(){affectName(),removeSection("#menu-container"),showSection("#main-container")}),$("gamelevel").children("button").each(function(){$(this).click(function(){chooseGameLevel(this.id)})});var p1,p2;
=======
=======
>>>>>>> add displayHighScore for highscore from cookies
<<<<<<< HEAD
function chooseGameType(a){switch(a){case"solo":removeSection("#gametype"),showSection("#gamelevel");break;case"duo":removeSection("#gametype"),showSection("#pickname")}}function chooseGameLevel(a){}function affectName(){p1=new Player($("#pickname #namej1").val(),1),p2=new Player($("#pickname #namej2").val(),2),$("#player1").html(p1.name),$("#player2").html(p2.name),startFirstRound()}function startFirstRound(){p1.addRound(),$("#round").html(p1.round)}function removeSection(a){$(a).fadeOut(300)}function showSection(a){$(a).fadeIn(300)}var PRS$0=function(a,b){return a.__proto__={a:b},a.a===b}({},{}),DP$0=Object.defineProperty,GOPD$0=Object.getOwnPropertyDescriptor,MIXIN$0=function(a,b){for(var c in b)b.hasOwnProperty(c)&&DP$0(a,c,GOPD$0(b,c));return a},GameController=function(){"use strict";function a(){}DP$0(a,"prototype",{configurable:!1,enumerable:!1,writable:!1});var b={};return b.nextRound=function(){p2.round<p1.round?p2.addRound():p1.addRound()},b.updateScore=function(a,b){a.addPoints(b);var c="#score"+a.id;$(c).html(a.score)},MIXIN$0(a.prototype,b),b=void 0,a}(),gameController=new GameController;$("#next").click(function(){gameController.nextRound(),gameController.updateScore(p1,10)});var Player=function(){"use strict";function a(a,b){this.id=b,this.name=a,this.round=0,this.score=0}var b={};return DP$0(a,"prototype",{configurable:!1,enumerable:!1,writable:!1}),b.addRound=function(){this.round=this.round+1},b.addPoints=function(a){this.score+=a},MIXIN$0(a.prototype,b),b=void 0,a}(),Game={enemies:[],columns_nb:49,init:function(){this.setPlate(),this.setEnemies(),MainChar.init(),this.setEvents()},setPlate:function(){for(var a=0,b=0,c=0;c<Game.columns_nb;c++)c%7===0&&a++,b=c%7+1,$("#game").append("<div data-x='"+b+"' data-y='"+a+"' id='case-"+(c+1)+"' class='case'></div>")},setEvents:function(){$(document).on("click",".case",function(){Game.update($(this))}),$(".case").droppable({accept:function(a){if(MainChar.isOnSameLine($(this).data("x"),$(this).data("y")))return!0},drop:function(a,b){MainChar.eat(a.target)}})},setEnemies:function(){for(i=0;i<48;i++){var a=Math.floor(5*Math.random())+1;this.enemies.push(new Enemy(i+1,a))}this.showEnemies()},showEnemies:function(){for(var a=0;a<this.enemies.length;a++){var b=Math.random()>=.5?"rotate":"";$("#case-"+this.enemies[a].case_id).append("                <img data-id='"+a+"' class='"+b+"' src='"+this.enemies[a].image()+"'>            ")}},update:function(a){console.log(a)},setControls:function(){}};MainChar={init:function(){$(".case:not(:has(>img))").append("<img id='main-char' src='assets/img/personnageprincipal.png'>"),this.updatePosition($("#main-char").parent("div")),$("#main-char").draggable({containment:"#game",revert:"invalid"})},eat:function(a){var b=$(a).find("img").data("id"),c=$(a).data("x"),d=$(a).data("y");return b&&MainChar.isOnSameLine(c,d)&&$(a).find("img").remove(),this.updatePosition(a),MainChar.isOnSameLine(c,d)},isOnSameLine:function(a,b){return $("#main-char").data("x")===a||$("#main-char").data("y")===b},updatePosition:function(a){$("#main-char").data("x",$(a).data("x")),$("#main-char").data("y",$(a).data("y"))}};var Enemy=function(){"use strict";function a(a,b){this.case_id=a,this.type=b}var b={};return DP$0(a,"prototype",{configurable:!1,enumerable:!1,writable:!1}),b.points=function(){var a=0;switch(this.type){case 1:a=10;break;case 2:a=20;break;case 3:a=30;break;case 4:a=40;break;case 5:a=50}return a},b.image=function(){return"assets/img/ennemy"+this.type+".png"},MIXIN$0(a.prototype,b),b=void 0,a}();Game.init(),$("#play").click(function(){removeSection("#menu"),showSection("#gametype")}),$("#gametype").children("button").each(function(){var a=this;$(this).click(function(){chooseGameType(a.id)})}),$("#start").click(function(){affectName(),removeSection("#menu-container"),showSection("#main-container")}),$("gamelevel").children("button").each(function(){$(this).click(function(){chooseGameLevel(this.id)})});var p1,p2;
=======
function setCookie(a,b,c){var d;if(c){var e=new Date;e.setTime(e.getTime()+24*c*60*60*1e3),d="; expires="+e.toGMTString()}else d="";document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+d+"; path=/"}function getCookie(a){for(var b=encodeURIComponent(a)+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(b))return decodeURIComponent(e.substring(b.length,e.length))}return null}function eraseCookie(a){setCookie(a,"",-1)}function chooseGameType(a){switch(a){case"solo":removeSection("#gametype"),showSection("#gamelevel");break;case"duo":removeSection("#gametype"),showSection("#pickname")}}function chooseGameLevel(a){}function affectName(){p1=new Player($("#pickname #namej1").val(),1),p2=new Player($("#pickname #namej2").val(),2),$("#player1").html(p1.name),$("#player2").html(p2.name),startFirstRound()}function startFirstRound(){p1.addRound(),$("#round").html(p1.round)}function removeSection(a){$(a).fadeOut(300)}function showSection(a){$(a).fadeIn(300)}var PRS$0=function(a,b){return a.__proto__={a:b},a.a===b}({},{}),DP$0=Object.defineProperty,GOPD$0=Object.getOwnPropertyDescriptor,MIXIN$0=function(a,b){for(var c in b)b.hasOwnProperty(c)&&DP$0(a,c,GOPD$0(b,c));return a},GameController=function(){"use strict";function a(){}DP$0(a,"prototype",{configurable:!1,enumerable:!1,writable:!1});var b={};return b.nextRound=function(){p2.round<p1.round?p2.addRound():p1.addRound()},b.updateScore=function(a,b){a.addPoints(b);var c="#score"+a.id;$(c).html(a.score)},b.checkVictory=function(a){a.score>=500},b.addHighScore=function(a){var b,c={},d=a.name,e=a.round;null!==highscoreCookies?(c=JSON.parse(highscoreCookies),c.hasOwnProperty(d)?c[d].push(e):c[d]=[e],b=JSON.stringify(c),setCookie("highscore",b)):(c[d]=[e],b=JSON.stringify(c),setCookie("highscore",b))},MIXIN$0(a.prototype,b),b=void 0,a}(),gameController=new GameController;$("#next").click(function(){gameController.nextRound(),gameController.updateScore(p1,10)}),$("#addScore").click(function(){gameController.addHighScore(p2)});var Player=function(){"use strict";function a(a,b){this.id=b,this.name=a,this.round=0,this.score=0}var b={};return DP$0(a,"prototype",{configurable:!1,enumerable:!1,writable:!1}),b.addRound=function(){this.round=this.round+1},b.addPoints=function(a){this.score+=a},MIXIN$0(a.prototype,b),b=void 0,a}(),highscoreCookies=getCookie("highscore");console.log(highscoreCookies),$("#play").click(function(){removeSection("#menu"),showSection("#gametype")}),$("#gametype").children("button").each(function(){var a=this;$(this).click(function(){chooseGameType(a.id)})}),$("#start").click(function(){affectName(),removeSection("#menu-container"),showSection("#main-container")}),$("gamelevel").children("button").each(function(){$(this).click(function(){chooseGameLevel(this.id)})});var p1,p2;
>>>>>>> add highscore to cookies
<<<<<<< HEAD
>>>>>>> add highscore to cookies
=======
=======
function setCookie(a,b,c){var d;if(c){var e=new Date;e.setTime(e.getTime()+24*c*60*60*1e3),d="; expires="+e.toGMTString()}else d="";document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+d+"; path=/"}function getCookie(a){for(var b=encodeURIComponent(a)+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(b))return decodeURIComponent(e.substring(b.length,e.length))}return null}function eraseCookie(a){setCookie(a,"",-1)}function displayHighScore(){var a,b,c=JSON.parse(highscoreCookies),d=-1;do{for(var e in c)c[e].forEach(function(c,f){c>d&&(d=c,a=e,b=f)});addHighScore(a,score),c[a].splice(b,1),0===c[a].length&&delete c[a],d=-1}while(!$.isEmptyObject(c))}function addHighScore(a,b){}function chooseGameType(a){switch(a){case"solo":removeSection("#gametype"),showSection("#gamelevel");break;case"duo":removeSection("#gametype"),showSection("#pickname")}}function chooseGameLevel(a){}function affectName(){p1=new Player($("#pickname #namej1").val(),1),p2=new Player($("#pickname #namej2").val(),2),$("#player1").html(p1.name),$("#player2").html(p2.name),startFirstRound()}function startFirstRound(){p1.addRound(),$("#round").html(p1.round)}function removeSection(a){$(a).fadeOut(300)}function showSection(a){$(a).fadeIn(300)}var PRS$0=function(a,b){return a.__proto__={a:b},a.a===b}({},{}),DP$0=Object.defineProperty,GOPD$0=Object.getOwnPropertyDescriptor,MIXIN$0=function(a,b){for(var c in b)b.hasOwnProperty(c)&&DP$0(a,c,GOPD$0(b,c));return a},GameController=function(){"use strict";function a(){}DP$0(a,"prototype",{configurable:!1,enumerable:!1,writable:!1});var b={};return b.nextRound=function(){p2.round<p1.round?p2.addRound():p1.addRound()},b.updateScore=function(a,b){a.addPoints(b);var c="#score"+a.id;$(c).html(a.score)},b.checkVictory=function(a){a.score>=500},b.addHighScore=function(a){var b,c={},d=a.name,e=a.round;null!==highscoreCookies?(c=JSON.parse(highscoreCookies),c.hasOwnProperty(d)?c[d].push(e):c[d]=[e],b=JSON.stringify(c),setCookie("highscore",b)):(c[d]=[e],b=JSON.stringify(c),setCookie("highscore",b))},MIXIN$0(a.prototype,b),b=void 0,a}(),gameController=new GameController;$("#next").click(function(){gameController.nextRound(),gameController.updateScore(p1,10)}),$("#addScore").click(function(){gameController.addHighScore(p2)});var Player=function(){"use strict";function a(a,b){this.id=b,this.name=a,this.round=0,this.score=0}var b={};return DP$0(a,"prototype",{configurable:!1,enumerable:!1,writable:!1}),b.addRound=function(){this.round=this.round+1},b.addPoints=function(a){this.score+=a},MIXIN$0(a.prototype,b),b=void 0,a}(),highscoreCookies=getCookie("highscore");displayHighScore(),$("#play").click(function(){removeSection("#menu"),showSection("#gametype")}),$("#gametype").children("button").each(function(){var a=this;$(this).click(function(){chooseGameType(a.id)})}),$("#start").click(function(){affectName(),removeSection("#menu-container"),showSection("#main-container")}),$("gamelevel").children("button").each(function(){$(this).click(function(){chooseGameLevel(this.id)})});var p1,p2;
>>>>>>> add displayHighScore for highscore from cookies
>>>>>>> add displayHighScore for highscore from cookies
